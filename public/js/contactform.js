$(document).ready(function(){var form=$("form#email_form");var status=$("#status");var status_text=$("#status .modal-content p");var email=$("form#email_form [name='email']");var nazwafirmy=$("form#email_form [name='nazwafirmy']");var nrtelefonu=$("form#email_form [name='nrtelefonu']");var url=$("form#email_form").attr("action");var loading_gif=$("#loading_ajax");$(document).ajaxStart(function(){loading_gif.removeClass("invisible");}).ajaxStop(function(){loading_gif.addClass("invisible");});form.submit(function(e){e.preventDefault();var formdata=$("form#email_form").serialize();status_text.html("");$.ajaxSetup({headers:{'X-CSRF-TOKEN':$('meta[name="csrf-token"]').attr('content'),'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-With':'XMLHttpRequest'}});$.ajax({url:url,type:"POST",data:formdata,enctype:'multipart/form-data',dataType:'json',processData:false,success:function(data){status_text.html("");for(var index in data.message){status_text.append("<p>"+data.message[index]+'</p>');}if(data!=null&&data.success){$("input[type=text], textarea").val("");}else{}status.css("display","block");},error:function(data){for(var index in data.message){status_text.append("<p>"+data.message[index]+'</p>');}status.css("display","block");}});});email.on("input",function(){if(!isEmail(email.val())){email.addClass("wrong_input");}else{email.removeClass("wrong_input");}if(email.val().length==0){email.removeClass("wrong_input");}});nrtelefonu.on("input",function(){if(nrtelefonu.val().length>7&&!isTelephoneNumber(nrtelefonu.val())){nrtelefonu.addClass("wrong_input");}else{nrtelefonu.removeClass("wrong_input");}if(nrtelefonu.val().length==0){nrtelefonu.removeClass("wrong_input");}});});function isEmail(email){var regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return regex.test(email);}function isTelephoneNumber(number){var isTrue=false;var regex=/^[0-9]{3}(-|\s)?[0-9]{3}(-|\s)?[0-9]{3}$/;isTrue=regex.test(number);if(isTrue!=1){regex=/^[0]?([0-9]{2})(-|\s)?[0-9]{3}(-|\s)?[0-9]{2}(-|\s)?[0-9]{2}$/;isTrue=regex.test(number);}return regex.test(number);}